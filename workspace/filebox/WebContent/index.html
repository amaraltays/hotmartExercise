<html>
<head>
	<script type="text/javascript" src="./js/jquery/jquery-2.1.0.min.js"></script>
	<script type="text/javascript" src="./js/plupload/js/plupload.full.min.js"></script>
</head>
<body>
	<h1>File Upload</h1>
 	<a id="listFiles" href="rest/FileUploadedService/filesUp">List files</a>

<div id="container">
	<p>	User id : <input type="text" id = "userId" />  </p>
    <a id="browse" href="javascript:;">[Select file...]</a>
    <a id="start-upload" href="javascript:;">[Upload]</a>
</div> 

<br />
<ul id="filelist"></ul>
<br />
 
 <br />
<pre id="console"></pre>
<script type="text/javascript">
var uploader = new plupload.Uploader({
  browse_button: 'browse',
  chunk_size: "1Mb",
  url: '/filebox/rest/FileUploadedService/uploadLargeFile',
  multipart_params : {
	  userId : $("#userId").val()
  }
});

uploader.init();

uploader.bind('FilesAdded', function(up, files) {
	  var html = '';
	  plupload.each(files, function(file) {
	    html += '<li id="' + file.id + '">' + file.name + ' (' + plupload.formatSize(file.size) + ') <b></b></li>';
	  });
	  document.getElementById('filelist').innerHTML += html;
	});

uploader.bind('UploadProgress', function(up, file) {
	  document.getElementById(file.id).getElementsByTagName('b')[0].innerHTML = '<span>' + file.percent + "%</span>";
	});

uploader.bind('Error', function(up, err) {
	  document.getElementById('console').innerHTML += "\nError #" + err.code + ": " + err.message;
	});
	 
	document.getElementById('start-upload').onclick = function() {
		uploader.settings.multipart_params["userId"] = $("#userId").val();
		document.getElementById('console').innerHTML = "";
		uploader.start();
	};


</script>

</body>
</html>

http://www.mkyong.com/webservices/jax-rs/file-upload-example-in-jersey/
https://javatutorial.net/java-file-upload-rest-service
http://stackoverflow.com/questions/17379286/how-to-get-the-servletcontext-in-rest-web-service

CHUNKED
https://www.bennadel.com/blog/2585-chunking-file-uploads-with-plupload-and-coldfusion.htm
http://www.plupload.com/docs/v2/Chunking